
apps/
  web/
    src/
      app/
        (marketing)/
          page.tsx
          pricing/page.tsx
        (auth)/
          login/page.tsx
          signup/page.tsx
          verify-email/page.tsx
          forgot-password/page.tsx
          reset-password/page.tsx
          oauth/callback/page.tsx
        (app)/
          onboarding/page.tsx
          dashboard/
            page.tsx
            billing/page.tsx
            team/page.tsx
            settings/page.tsx
            sessions/page.tsx
        api/
          auth/
            signup/route.ts
            login/route.ts
            logout/route.ts
            magic/
              request/route.ts
              confirm/route.ts
            password/
              forgot/route.ts
              reset/route.ts
            oauth/
              google/
                start/route.ts
                callback/route.ts
          org/
            create/route.ts
            invite/route.ts
            switch/route.ts
          billing/
            checkout/route.ts
            portal/route.ts
            webhook/route.ts

      server/
        adapters/
          cookies/
            session-cookie.adapter.ts
          rate-limit/
            rate-limit.adapter.ts
          stripe/
            stripe-webhook.adapter.ts
        auth/
          require-user.ts
          require-org.ts
        config/
          env.ts
        logging/
          audit.stub.ts
        services/
          email.service.ts
          url.service.ts
      middleware.ts

      features/
        auth/
          ui/
            login-form.tsx
            signup-form.tsx
            magic-link-form.tsx
            oauth-buttons.tsx
            reset-password-form.tsx
          model/
            use-auth-redirect.ts
          lib/
            auth-client.ts
        billing/
          ui/
            plan-card.tsx
            billing-actions.tsx
        team/
          ui/
            invite-member-dialog.tsx
            members-table.tsx
        settings/
          ui/
            profile-form.tsx
            security-form.tsx
        sessions/
          ui/
            sessions-table.tsx

      entities/
        user/
          ui/
            user-avatar.tsx
          lib/
            user-label.ts
        organization/
          ui/
            org-switcher.tsx

      shared/
        ui/
          layout/
            app-shell.tsx
            page-header.tsx
          feedback/
            toast.tsx
          form/
            field.tsx
        lib/
          cn.ts
          assert.ts
        hooks/
          use-mounted.ts
        constants/
          routes.ts

    public/
    next.config.js
    package.json
    tsconfig.json

packages/
  contracts/
    src/
      auth/
        auth.schemas.ts
        auth.types.ts
      billing/
        billing.schemas.ts
        billing.types.ts
      org/
        org.schemas.ts
        org.types.ts
      common/
        pagination.ts
        enums.ts
        errors.ts
      index.ts
    package.json
    tsconfig.json

  db/
    prisma/
      schema.prisma
      migrations/
      seed.ts
    src/
      client.ts
      repositories/
        users.repo.ts
        sessions.repo.ts
        orgs.repo.ts
        memberships.repo.ts
        invitations.repo.ts
        subscriptions.repo.ts
        oauth-accounts.repo.ts
        email-tokens.repo.ts
      tx.ts
      index.ts
    package.json
    tsconfig.json

  auth-core/
    src/
      hashing/
        password.ts
        token.ts
      sessions/
        session.service.ts
        session.types.ts
      email-tokens/
        email-token.service.ts
        email-token.types.ts
      oauth/
        oauth.types.ts
        pkce.ts
        state.service.ts
        providers/
          google.ts
      flows/
        signup.flow.ts
        login.flow.ts
        magic-login.flow.ts
        password-reset.flow.ts
        oauth-login.flow.ts
      index.ts
    package.json
    tsconfig.json

  org-core/
    src/
      org.service.ts
      invite.service.ts
      membership.service.ts
      org.types.ts
      index.ts
    package.json
    tsconfig.json

  billing-core/
    src/
      stripe/
        stripe.client.ts
        stripe.types.ts
        webhook.verify.ts
      subscription/
        subscription.service.ts
        subscription.sync.ts
        plans.ts
      index.ts
    package.json
    tsconfig.json

  email/
    src/
      providers/
        resend.ts
        nodemailer.ts
        provider.types.ts
      templates/
        magic-link.ts
        reset-password.ts
        verify-email.ts
      email.service.ts
      index.ts
    package.json
    tsconfig.json

  ui/
    src/
      components/
        button.tsx
        input.tsx
        card.tsx
        dialog.tsx
        table.tsx
        ...
      theme/
        globals.css
        tailwind.css
      index.ts
    package.json
    tsconfig.json

  config/
    src/
      eslint/
      tsconfig/
      env/
      index.ts
    package.json

tooling/
  scripts/
    gen-env-docs.ts
    release.ts

docs/
  README.md
  DEPLOYMENT.md
  STRIPE.md
  AUTH.md
  ARCHITECTURE.md

.env.example
package.json
turbo.json
pnpm-workspace.yaml
tsconfig.base.json
eslint.config.mjs
